singularity.enabled = true
process {
    withName:unstranded_mapping {
        executor='slurm'
        queue="${params.queue}"
        cpus=8
        mem='20 GB'
        time='4h'
        jobName={ "$task.name" }
        container = "${params.image_folder}kallisto-0.48.0.sif"
        containerOptions = "-B ${params.project_folder}:/workdir -B ${params.kallisto_raw_data}:/raw_data"
    }
    withName:gene_model {
        executor='slurm'
        queue="${params.queue}"
        cpus=1
        mem='2 GB'
        time='1h'
        jobName={ "$task.name" }
        container = "${params.image_folder}rseqc-5.0.1.sif"
        containerOptions = "-B ${params.project_folder}:/workdir"
    }
    withName:infer_experiment {
        executor='slurm'
        queue="${params.queue}"
        cpus=1
        mem='2 GB'
        time='1h'
        jobName={ "$task.name" }
        container = "${params.image_folder}rseqc-5.0.1.sif"
        containerOptions = "-B ${params.project_folder}:/workdir"
    }
    withName:check_strand {
        executor='slurm'
        queue="${params.queue}"
        cpus=1
        mem='2 GB'
        time='1h'
        jobName={ "$task.name" }
        container = "${params.image_folder}rseqc-5.0.1.sif"
        containerOptions = "-B ${params.project_folder}:/workdir"
    }
}

